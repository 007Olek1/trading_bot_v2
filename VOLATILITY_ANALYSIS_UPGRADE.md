# üöÄ –£–õ–£–ß–®–ï–ù–ò–Ø –ü–û–ò–°–ö–ê –ú–û–ù–ï–¢ –ò –ê–ù–ê–õ–ò–ó–ê –¢–†–ï–ù–î–û–í V2.1

## ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –°–ï–ì–û–î–ù–Ø**

### 1Ô∏è‚É£ **–£–õ–£–ß–®–ï–ù–ù–´–ô –ü–û–ò–°–ö –í–û–õ–ê–¢–ò–õ–¨–ù–´–• –ú–û–ù–ï–¢**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ —Ç–æ–ø-100 –ø–æ –æ–±—ä–µ–º—É, –Ω–µ —É—á–∏—Ç—ã–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ **–ù–æ–≤—ã–π –º–æ–¥—É–ª—å:** `bot_v2_volatility_analyzer.py`
- ‚úÖ **VolatilityAnalyzer** - –∞–Ω–∞–ª–∏–∑ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- ‚úÖ **EnhancedSymbolSelector** - —É–º–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç (–Ω–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)

**–ê–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏:**
```python
# 1. ATR (Average True Range) - –±–∞–∑–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
# 2. –ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã –∑–∞ 20 –ø–µ—Ä–∏–æ–¥–æ–≤
# 3. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –∑–∞ 5-–ø–µ—Ä–∏–æ–¥–Ω—ã–µ –æ–∫–Ω–∞
# 4. –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã

volatility_score = min(100, (atr_pct * 10 + avg_change * 1000 + avg_max_move * 2))
```

---

### 2Ô∏è‚É£ **–ê–ù–ê–õ–ò–ó –¢–†–ï–ù–î–û–í –î–õ–Ø –õ–£–ß–®–ï–ì–û –í–•–û–î–ê**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª —Å–∏–ª—É –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤:**
  - EMA —Ç—Ä–µ–Ω–¥ (20/50) - –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π
  - MACD —Ç—Ä–µ–Ω–¥ - —Å—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–π  
  - Momentum - –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π
  - –û–±—ä–µ–º–Ω—ã–π —Ç—Ä–µ–Ω–¥ - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

**–ê–ª–≥–æ—Ä–∏—Ç–º —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞:**
```python
trend_strength = (ema_trend * 0.3 + macd_trend * 0.3 + momentum_trend * 0.3 + volume_trend * 0.1)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç -1 (–º–µ–¥–≤–µ–∂–∏–π) –¥–æ +1 (–±—ã—á–∏–π)
```

---

### 3Ô∏è‚É£ **–£–õ–£–ß–®–ï–ù–ù–ê–Ø –ì–ï–ù–ï–†–ê–¶–ò–Ø –°–ò–ì–ù–ê–õ–û–í**
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ä—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–±–æ–∏

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ **–°–ò–ì–ù–ê–õ 7:** –ê–Ω–∞–ª–∏–∑ —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞
  - –°–∏–ª—å–Ω—ã–π –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥ (>0.7) = +0.8 score
  - –°–∏–ª—å–Ω—ã–π –º–µ–¥–≤–µ–∂–∏–π —Ç—Ä–µ–Ω–¥ (<-0.7) = +0.8 score

- ‚úÖ **–°–ò–ì–ù–ê–õ 8:** –í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π –ø—Ä–æ–±–æ–π
  - –ü—Ä–æ–±–æ–π Bollinger Bands + –æ–±—ä–µ–º–Ω—ã–π —Å–ø–∞–π–∫ = +0.9 score
  - –°–∞–º—ã–π —Å–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª!

---

### 4Ô∏è‚É£ **–£–ú–ù–´–ô –°–ï–õ–ï–ö–¢–û–† –°–ò–ú–í–û–õ–û–í**
**–ë—ã–ª–æ:** –¢–æ–ø-100 –ø–æ –æ–±—ä–µ–º—É (—Å—Ç–∞—Ç–∏—á–Ω–æ)

**–°—Ç–∞–ª–æ:**
- ‚úÖ **–¢–æ–ø-200** –±–∞–∑–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
- ‚úÖ **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Å–∫–æ—Ä—É:**
  - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (40%)
  - –¢—Ä–µ–Ω–¥ (40%) 
  - –û–±—ä–µ–º—ã (20%)
- ‚úÖ **–¢–æ–ø-50** —Å–∞–º—ã—Ö –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã—Ö
- ‚úÖ **–ö—ç—à –Ω–∞ 30 –º–∏–Ω—É—Ç** (—ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤)

---

## üìä **–ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢:**

### **–≠—Ç–∞–ø 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤**
```python
# –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ø-200 –ø–æ –æ–±—ä–µ–º—É
base_symbols = await exchange_manager.get_top_volume_symbols(top_n=200)

# –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–µ 100 (–¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
analysis_tasks = []
for symbol in base_symbols[:100]:
    task = volatility_analyzer.analyze_symbol_volatility(symbol, exchange_manager)
    analysis_tasks.append(task)

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
results = await asyncio.gather(*analysis_tasks)
```

### **–≠—Ç–∞–ø 2: –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ–≤**
```python
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞:
volatility_score = _calculate_volatility_score(df_5m)    # 0-100
trend_score = _calculate_trend_score(df_1h, df_5m)     # 0-100  
volume_score = _calculate_volume_score(df_5m)           # 0-100

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫–æ—Ä
total_score = (volatility_score * 0.4 + trend_score * 0.4 + volume_score * 0.2)
```

### **–≠—Ç–∞–ø 3: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –≤—ã–±–æ—Ä**
```python
# –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –æ–±—â–µ–º—É —Å–∫–æ—Ä—É
valid_results.sort(key=lambda x: x['total_score'], reverse=True)

# –ë–µ—Ä–µ–º —Ç–æ–ø-50
top_volatile = valid_results[:50]
```

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢–´:**

### **–î–æ —É–ª—É—á—à–µ–Ω–∏–π:**
- –ê–Ω–∞–ª–∏–∑: –¢–æ–ø-100 –ø–æ –æ–±—ä–µ–º—É
- –°–∏–≥–Ω–∞–ª—ã: 8 –±–∞–∑–æ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞: ~3 –º–∏–Ω—É—Ç—ã
- –ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤: –°—Ä–µ–¥–Ω–µ–µ

### **–ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:**
- –ê–Ω–∞–ª–∏–∑: –¢–æ–ø-50 –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö + —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö
- –°–∏–≥–Ω–∞–ª—ã: 8 –±–∞–∑–æ–≤—ã—Ö + 2 –Ω–æ–≤—ã—Ö (—Ç—Ä–µ–Ω–¥ + –ø—Ä–æ–±–æ–π)
- –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞: ~2 –º–∏–Ω—É—Ç—ã (–∫—ç—à)
- –ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤: **–í—ã—Å–æ–∫–æ–µ**

---

## üìà **–ù–û–í–´–ï –°–ò–ì–ù–ê–õ–´:**

| –°–∏–≥–Ω–∞–ª | –£—Å–ª–æ–≤–∏–µ | Score | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|---------|-------|----------|
| **–°–∏–ª—å–Ω—ã–π –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥** | trend_strength > 0.7 | +0.8 | EMA‚Üë + MACD‚Üë + Momentum‚Üë + Volume‚Üë |
| **–°–∏–ª—å–Ω—ã–π –º–µ–¥–≤–µ–∂–∏–π —Ç—Ä–µ–Ω–¥** | trend_strength < -0.7 | +0.8 | EMA‚Üì + MACD‚Üì + Momentum‚Üì + Volume‚Üë |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π –ø—Ä–æ–±–æ–π –≤–≤–µ—Ä—Ö** | Price > BB_upper + Volume spike | +0.9 | –ü—Ä–æ–±–æ–π —Å –æ–±—ä–µ–º–æ–º |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π –ø—Ä–æ–±–æ–π –≤–Ω–∏–∑** | Price < BB_lower + Volume spike | +0.9 | –ü—Ä–æ–±–æ–π —Å –æ–±—ä–µ–º–æ–º |

---

## üî• **–ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´:**

### **–õ–æ–≥ –∞–Ω–∞–ª–∏–∑–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏:**
```
üî• #1 PEPE/USDT:USDT: Vol=85.2, Trend=78.4, Vol=92.1, Total=82.3
üî• #2 SHIB/USDT:USDT: Vol=78.9, Trend=71.2, Vol=88.5, Total=78.1
üî• #3 DOGE/USDT:USDT: Vol=72.1, Trend=69.8, Vol=85.3, Total=73.2
```

### **–ù–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –≤ –ª–æ–≥–∞—Ö:**
```
üíé –°–ò–õ–¨–ù–´–ô –°–ò–ì–ù–ê–õ: PEPE/USDT:USDT BUY 92%
   –ü—Ä–∏—á–∏–Ω–∞: MACD –±—ã—á–∏–π –∫—Ä–æ—Å—Å–æ–≤–µ—Ä; –°–∏–ª—å–Ω—ã–π –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥ (0.85); –í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π –ø—Ä–æ–±–æ–π

üíé –°–ò–õ–¨–ù–´–ô –°–ò–ì–ù–ê–õ: SHIB/USDT:USDT BUY 89%  
   –ü—Ä–∏—á–∏–Ω–∞: RSI=28.5 –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å; –°–∏–ª—å–Ω—ã–π –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥ (0.72)
```

---

## üöÄ **–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í –ë–û–¢:**

### **–í —Ç–æ—Ä–≥–æ–≤–æ–º —Ü–∏–∫–ª–µ:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
if enhanced_symbol_selector.is_cache_valid():
    symbols = enhanced_symbol_selector.get_cached_symbols()
    logger.info(f"üìä –ò—Å–ø–æ–ª—å–∑—É—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã: {len(symbols)}")
else:
    # –ü–æ–ª—É—á–∞–µ–º —Å–≤–µ–∂–∏–π –∞–Ω–∞–ª–∏–∑ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
    volatile_symbols_data = await enhanced_symbol_selector.get_volatile_symbols(
        exchange_manager, top_n=50
    )
    symbols = [data['symbol'] for data in volatile_symbols_data]
```

### **–í –∞–Ω–∞–ª–∏–∑–µ —Å–∏–≥–Ω–∞–ª–æ–≤:**
```python
# –°–ò–ì–ù–ê–õ 7: –£–õ–£–ß–®–ï–ù–ù–´–ô –ê–ù–ê–õ–ò–ó –¢–†–ï–ù–î–û–í
trend_strength = self._calculate_trend_strength(df)
if trend_strength > 0.7:  # –°–∏–ª—å–Ω—ã–π –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥
    signals.append(("buy", 0.8))
    reasons.append(f"–°–∏–ª—å–Ω—ã–π –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥ ({trend_strength:.2f})")

# –°–ò–ì–ù–ê–õ 8: –í–û–õ–ê–¢–ò–õ–¨–ù–û–°–¢–¨ –ò BREAKOUT
volatility_signal = self._analyze_volatility_breakout(df)
if volatility_signal:
    signals.append(volatility_signal)
    reasons.append("–í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π –ø—Ä–æ–±–æ–π")
```

---

## üì± **TELEGRAM –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø:**

–¢–µ–ø–µ—Ä—å –±–æ—Ç –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
```
üöÄ –ü–û–õ–£–ß–ï–ù–ò–ï –í–û–õ–ê–¢–ò–õ–¨–ù–´–• –ú–û–ù–ï–¢ –° –ê–ù–ê–õ–ò–ó–û–ú –¢–†–ï–ù–î–û–í...

üìä –ò—Å–ø–æ–ª—å–∑—É—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã: 50
üîç –ê–Ω–∞–ª–∏–∑ 50 –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤...

üíé –°–ò–õ–¨–ù–´–ô –°–ò–ì–ù–ê–õ: PEPE/USDT:USDT BUY 92%
   –ü—Ä–∏—á–∏–Ω–∞: –°–∏–ª—å–Ω—ã–π –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥ (0.85); –í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π –ø—Ä–æ–±–æ–π
```

---

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:**

1. **–õ—É—á—à–∏–µ –≤—Ö–æ–¥—ã** - —Ç–æ–ª—å–∫–æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã —Å —Ç—Ä–µ–Ω–¥–æ–º
2. **–í—ã—à–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** - –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –¥–∞—é—Ç +0.8-0.9 score
3. **–ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤** - –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç –±–æ–∫–æ–≤–∏–∫–∏
4. **–ë—ã—Å—Ç—Ä–µ–µ –∞–Ω–∞–ª–∏–∑** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è
5. **–ë–æ–ª—å—à–µ –ø—Ä–æ—Ñ–∏—Ç–æ–≤** - —Ñ–æ–∫—É—Å –Ω–∞ –ø—Ä–æ–±–æ—è—Ö –∏ —Ç—Ä–µ–Ω–¥–∞—Ö

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 16 –æ–∫—Ç—è–±—Ä—è 2025, 11:30  
**–í–µ—Ä—Å–∏—è:** V2.1 Enhanced


